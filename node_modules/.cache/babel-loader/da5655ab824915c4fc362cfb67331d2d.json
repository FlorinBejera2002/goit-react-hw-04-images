{"ast":null,"code":"var _jsxFileName = \"/home/florinbejera/Documents/Projects/goit.projects/react/goit-react-hw-04-images/src/components/App.jsx\";\nimport { Component } from 'react';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport { getSearchApi } from 'api/apiGallery';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button';\nimport { RotatingLines } from 'react-loader-spinner';\nimport css from './Styles.module.css';\nimport { Modal } from './Modal/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: false,\n      images: [],\n      searchValue: '',\n      currentPage: 1,\n      modalImage: '',\n      buttonShow: false\n    };\n    this.onInputFind = value => {\n      this.setState({\n        searchValue: value\n      });\n    };\n    this.fetchImages = async () => {\n      this.setState({\n        isLoading: true\n      });\n      try {\n        const {\n          hits,\n          total\n        } = await getSearchApi(this.state.searchValue, this.state.currentPage);\n        this.setState(prev => ({\n          images: [...prev.images, ...hits]\n        }));\n        this.setState({\n          buttonShow: true\n        });\n        if (total < 12 || hits.length < 12) {\n          this.setState({\n            buttonShow: false\n          });\n        }\n      } catch (error) {\n        alert(error);\n      } finally {\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.onLoadMoreClick = () => {\n      this.setState(prev => ({\n        currentPage: prev.currentPage + 1\n      }));\n    };\n    this.onImageClick = e => {\n      if (e.target !== e.currentTarget) {\n        this.setState({\n          modalImage: e.target.alt,\n          modalIsOpen: true\n        });\n      }\n    };\n    this.onBackdropClose = e => {\n      if (e.target === e.currentTarget) {\n        this.setState({\n          modalIsOpen: false\n        });\n      }\n    };\n    this.onEscClose = e => {\n      if (e.code !== 'Escape') {\n        return;\n      }\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n  }\n  componentDidUpdate(_, prevState) {\n    if (prevState.searchValue !== this.state.searchValue) {\n      this.setState({\n        currentPage: 1,\n        images: []\n      });\n    }\n    if (prevState.searchValue !== this.state.searchValue || prevState.currentPage !== this.state.currentPage) {\n      this.fetchImages();\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.App,\n      children: [this.state.modalIsOpen && /*#__PURE__*/_jsxDEV(Modal, {\n        onBackdropClose: this.onBackdropClose,\n        modalImage: this.state.modalImage,\n        onEscClose: this.onEscClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Searchbar, {\n        onFind: this.onInputFind\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: this.state.images,\n        onImageClick: this.onImageClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(RotatingLines, {\n        strokeColor: \"grey\",\n        strokeWidth: \"5\",\n        animationDuration: \"0.75\",\n        width: \"96\",\n        visible: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), this.state.buttonShow && /*#__PURE__*/_jsxDEV(Button, {\n        onLoadMoreClick: this.onLoadMoreClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","Searchbar","getSearchApi","ImageGallery","Button","RotatingLines","css","Modal","jsxDEV","_jsxDEV","App","constructor","args","state","isLoading","images","searchValue","currentPage","modalImage","buttonShow","onInputFind","value","setState","fetchImages","hits","total","prev","length","error","alert","onLoadMoreClick","onImageClick","e","target","currentTarget","alt","modalIsOpen","onBackdropClose","onEscClose","code","componentDidUpdate","_","prevState","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFind","strokeColor","strokeWidth","animationDuration","width","visible"],"sources":["/home/florinbejera/Documents/Projects/goit.projects/react/goit-react-hw-04-images/src/components/App.jsx"],"sourcesContent":["import { Component } from 'react';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport { getSearchApi } from 'api/apiGallery';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button';\nimport { RotatingLines } from 'react-loader-spinner';\nimport css from './Styles.module.css';\nimport { Modal } from './Modal/Modal';\nexport class App extends Component {\n  state = {\n    isLoading: false,\n    images: [],\n    searchValue: '',\n    currentPage: 1,\n    modalImage: '',\n    buttonShow: false,\n  };\n  onInputFind = value => {\n    this.setState({ searchValue: value });\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.searchValue !== this.state.searchValue) {\n      this.setState({ currentPage: 1, images: [] });\n    }\n    if (\n      prevState.searchValue !== this.state.searchValue ||\n      prevState.currentPage !== this.state.currentPage\n    ) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = async () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    try {\n      const { hits, total } = await getSearchApi(\n        this.state.searchValue,\n        this.state.currentPage\n      );\n\n      this.setState(prev => ({ images: [...prev.images, ...hits] }));\n      this.setState({\n        buttonShow: true,\n      });\n\n      if (total < 12 || hits.length < 12) {\n        this.setState({ buttonShow: false });\n      }\n    } catch (error) {\n      alert(error);\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n  onLoadMoreClick = () => {\n    this.setState(prev => ({\n      currentPage: prev.currentPage + 1,\n    }));\n  };\n  onImageClick = e => {\n    if (e.target !== e.currentTarget) {\n      this.setState({\n        modalImage: e.target.alt,\n        modalIsOpen: true,\n      });\n    }\n  };\n  onBackdropClose = e => {\n    if (e.target === e.currentTarget) {\n      this.setState({ modalIsOpen: false });\n    }\n  };\n  onEscClose = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.setState({ modalIsOpen: false });\n  };\n  render() {\n    return (\n      <div className={css.App}>\n        {this.state.modalIsOpen && (\n          <Modal\n            onBackdropClose={this.onBackdropClose}\n            modalImage={this.state.modalImage}\n            onEscClose={this.onEscClose}\n          />\n        )}\n        <Searchbar onFind={this.onInputFind} />\n        <ImageGallery\n          images={this.state.images}\n          onImageClick={this.onImageClick}\n        />\n        {this.state.isLoading && (\n          <RotatingLines\n            strokeColor=\"grey\"\n            strokeWidth=\"5\"\n            animationDuration=\"0.75\"\n            width=\"96\"\n            visible={true}\n          />\n        )}\n        {this.state.buttonShow && (\n          <Button onLoadMoreClick={this.onLoadMoreClick} />\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}